<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Block scheme web app" content="">
    <meta name="RF" content="">

    <title>DP</title>
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!--fabric-->
    <script type="text/javascript" src="vendor/fabricjs/fabric.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!--Katex-->
    <link rel="stylesheet" href="vendor/katex/katex.min.css">
    <script src="vendor/katex/katex.min.js"></script>
    <!-- Custom styles-->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <!--custom-->
    <script>
        var blockDrawData = {
            "AnalogInput":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Analog\n input",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 8,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "AnalogOutput":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Analog\n output",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 8,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Clock":
                [
                    {
                        "type": "circle",
                        "data":
                        {
                            "height": 40,
                            "width": 50,
                            "radius": 13,
                            "top": 10,
                            "left": 5,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "circle",
                        "data":
                        {
                            "radius": 10,
                            "left": 5,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 7 0",
                        "data":
                        {
                            "left": 15,
                            "top": 10,
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 0 7",
                        "data":
                        {
                            "left": 15,
                            "top": 3,
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Clock",
                        "data":
                        {
                            "fontFamily": "Arial",
                            "top": 20,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Constant":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 18,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Constant",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Demux":
                [

                    {
                        "type": "text",
                        "Text": "Demux",
                        "data": {
                            "width": 10,
                            "height": 40,
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 5,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 5,
                            "height": 30,
                            "left": 15,
                            "fill": "white",
                            "stroke": "black"
                        }
                    }
                ], "Mux":
                [

                    {
                        "type": "text",
                        "Text": "Mux",
                        "data": {
                            "width": 10,
                            "height": 40,
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 5,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 5,
                            "height": 30,
                            "left": 6,
                            "fill": "white",
                            "stroke": "black"
                        }
                    }
                ], "Derivative":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 35,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "du/dt",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 10,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Derivative",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "DigitalClock":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "left": 4,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "12:00",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 14,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Digital clock",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Display":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 40,
                            "height": 12,
                            "left": 5,
                            "top": 5,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "0",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 5,
                            "left": 36,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Display",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 8,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Fcn":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "f(u)",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 15,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Fcn",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 15,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Gain":
                [
                    {
                        "type": "triangle",
                        "data":
                        {
                            "left": 45,
                            "top": 20,
                            "strokeWidth": 1,
                            "width": 30,
                            "height": 30,
                            "stroke": false,
                            "fill": false,
                            "angle": 90,
                            "invisible": true

                        }
                    },
                    {
                        "type": "triangle",
                        "data":
                        {
                            "left": 40,
                            "top": 0,
                            "strokeWidth": 1,
                            "width": 30,
                            "height": 30,
                            "stroke": "black",
                            "fill": "white",
                            "angle": 90

                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 15,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Gain",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 10,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Integrator":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 18,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 7 0",
                        "data":
                        {
                            "left": 18,
                            "top": 16,
                            "stroke": "black",
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "s",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 19,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Integrator",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Product":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "x",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 20,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Product",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 5,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Scope":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 35,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 24,
                            "height": 15,
                            "top": 3,
                            "left": 3,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Scope",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 35,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "StateSpace":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 30,
                            "left": 0,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "x'=Ax+Bu",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 4,
                            "left": 4,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "y=Cx+Du",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 14,
                            "left": 5,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "State-Space",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Sum":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 35,
                            "height": 50,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "+",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 3,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "+",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 3,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Sum",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 3,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "SimOut":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 50,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "simout",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 10,
                            "left": 10,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Workspace",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "TransferFcn":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 55,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 53,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 20,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 10 0",
                        "data":
                        {
                            "left": 18,
                            "top": 16,
                            "stroke": "black",
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "s+1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 15,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "TransferFcn",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "TransportDelay":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 35,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 5,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 13 L 5 0",
                        "data":
                        {
                            "left": 8,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 13 L 5 0",
                        "data":
                        {
                            "left": 13,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 5 0",
                        "data":
                        {
                            "left": 8,
                            "top": 19,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 3 0",
                        "data":
                        {
                            "left": 13,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 5 19",
                        "data":
                        {
                            "left": 16,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 3 0",
                        "data":
                        {
                            "left": 21,
                            "top": 25,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 18 L 5 0",
                        "data":
                        {
                            "left": 24,
                            "top": 6,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 13 L 5 0",
                        "data":
                        {
                            "left": 8,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 3 0",
                        "data":
                        {
                            "left": 18,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 5 19",
                        "data":
                        {
                            "left": 21,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 3 0",
                        "data":
                        {
                            "left": 26,
                            "top": 25,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Transport",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Delay",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 40,
                            "left": 6,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "UnitDelay":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 18,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 7 0",
                        "data":
                        {
                            "left": 18,
                            "top": 16,
                            "stroke": "black",
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "z",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 19,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Unit Delay",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Step":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 13 0 M 13 0 L 13 -20 L 25 -20 ",
                        "data":
                        {
                            "left": 10,
                            "top": 5,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Step",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 10,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Saturation":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 45,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 8,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 24 0",
                        "data":
                        {
                            "left": 11,
                            "top": 15,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 0 24",
                        "data":
                        {
                            "left": 23,
                            "top": 3,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 6 0 L 18 -22 L 24 -22",
                        "data":
                        {
                            "left": 11,
                            "top": 4,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Saturation",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "DiscreteTime":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 58,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 53,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "T",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 3,
                            "left": 20,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 10 0",
                        "data":
                        {
                            "left": 18,
                            "top": 16,
                            "stroke": "black",
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "z-1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 15,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Discrete-T",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Integrator",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 40,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "DiscreteTransfer":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 58,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 53,
                            "height": 30,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "text",
                        "Text": "1",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 2,
                            "left": 20,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 25 0",
                        "data":
                        {
                            "left": 13,
                            "top": 15,
                            "stroke": "black",
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "z+0.5",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 15,
                            "left": 10,
                            "fontSize": 12,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Discrete",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 7,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    },
                    {
                        "type": "text",
                        "Text": "TransferFcn",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 40,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ], "Relay":
                [
                    {
                        "type": "rect",
                        "data": {
                            "width": 35,
                            "height": 40,
                            "fill": false,
                            "stroke": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "rect",
                        "data": {
                            "width": 30,
                            "height": 30,
                            "left": 0,
                            "fill": "white",
                            "stroke": "black"
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 24 0",
                        "data":
                        {
                            "left": 3,
                            "top": 15,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 0 24",
                        "data":
                        {
                            "left": 15,
                            "top": 3,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 15 0",
                        "data":
                        {
                            "left": 9,
                            "top": 7,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 15 0",
                        "data":
                        {
                            "left": 5,
                            "top": 22,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 0 15",
                        "data":
                        {
                            "left": 9,
                            "top": 7,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "path",
                        "path": "M 0 0 L 0 15",
                        "data":
                        {
                            "left": 20,
                            "top": 7,
                            "stroke": "black",
                            "strokeWidth": 1,
                            "fill": false,
                            "invisible": true
                        }
                    },
                    {
                        "type": "text",
                        "Text": "Relay",
                        "data": {
                            "fontFamily": "Arial",
                            "top": 30,
                            "left": 0,
                            "fontSize": 11,
                            "fill": "black",
                            "changeable": false
                        }
                    }
                ]
        };

        var blockParameters = {
            "AnalogInput":
                [
                    {
                        "io": "out",
                        "NumberOfInputs": 0,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['0.1', '1', '1'],
                        "hasAttr": true,
                        "attributes": ['SampleTime', 'Channels', 'RangeMode'],
                        "BlockType": "AnalogInput",
                        "title": "Parametre analog input"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Sample time",
                            "id": "analogin-sample",
                            "default_value": "0.1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Input channels",
                            "id": "analogin-channels",
                            "default_value": "1",
                            "number": 1
                        }
                    },
                    {
                        "type": "selectbox",
                        "data":
                        {
                            "title": "Input range",
                            "id": "analogin-range",
                            "number": 2,
                            "opt":
                                [
                                    {
                                        "value": "1",
                                        "name": "-10 to 10 V"
                                    }
                                ]
                        }
                    }
                ], "AnalogOutput":
                [
                    {
                        "io": "in",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 0,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['0.1', '1', '1', ' ', ' '],
                        "hasAttr": true,
                        "attributes": ['SampleTime', 'Channels', 'RangeMode', 'InitialValue', 'FinalValue'],
                        "BlockType": "AnalogOutput",
                        "title": "Parametre analog output"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Sample time",
                            "id": "analogout-sample",
                            "default_value": "0.1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Output channels",
                            "id": "analogout-channels",
                            "default_value": "1",
                            "number": 1
                        }
                    },
                    {
                        "type": "selectbox",
                        "data":
                        {
                            "title": "Output range",
                            "id": "analogout-range",
                            "number": 2,
                            "opt":
                                [
                                    {
                                        "value": "1",
                                        "name": "-10 to 10 V"
                                    }
                                ]
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial value",
                            "id": "analogout-initial",
                            "default_value": "",
                            "number": 3
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Final value",
                            "id": "analogout-final",
                            "default_value": "",
                            "number": 4
                        }
                    }
                ], "Clock":
                [
                    {
                        "io": "out",
                        "NumberOfInputs": 0,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['10'],
                        "hasAttr": true,
                        "attributes": ['Decimation'],
                        "BlockType": "Clock",
                        "title": "Parametre clock"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Decimation",
                            "id": "clock-decim",
                            "default_value": "10",
                            "number": 0
                        }
                    }
                ], "Constant":
                [
                    {
                        "io": "out",
                        "NumberOfInputs": 0,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1'],
                        "hasAttr": true,
                        "attributes": ['Value'],
                        "BlockType": "Constant",
                        "title": "Parametre constant"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Constant value",
                            "id": "constant-value",
                            "default_value": "1",
                            "number": 0
                        }
                    }
                ], "Demux":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 4,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": false,
                        "defaultExtra": null,
                        "BlockType": "Demux",
                        "title": "Parametre demux"
                    }
                ], "Mux":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 2,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 4,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": false,
                        "defaultExtra": null,
                        "BlockType": "Mux",
                        "title": "Parametre mux"
                    }
                ], "Derivative":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['inf'],
                        "hasAttr": true,
                        "attributes": ['Coefficient'],
                        "BlockType": "Derivative",
                        "title": "Parametre derivative"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Coefficient",
                            "id": "deriv-coef",
                            "default_value": "inf",
                            "number": 0
                        }
                    }
                ], "DigitalClock":
                [
                    {
                        "io": "out",
                        "NumberOfInputs": 0,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1'],
                        "hasAttr": true,
                        "attributes": ['SampleTime'],
                        "BlockType": "DigitalClock",
                        "title": "Parametre digital clock"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Sample time",
                            "id": "dclock-sample",
                            "default_value": "1",
                            "number": 0
                        }
                    }
                ], "Display":
                [
                    {
                        "io": "in",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 0,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1'],
                        "hasAttr": true,
                        "attributes": ['Decimation'],
                        "BlockType": "DigitalClock",
                        "title": "Parametre digital clock"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Decimation",
                            "id": "display-decim",
                            "default_value": "1",
                            "number": 0
                        }
                    }
                ], "Fcn":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['sin(u(1)*exp(2.3*(-u(2))))'],
                        "hasAttr": true,
                        "attributes": ['Expression'],
                        "BlockType": "Fcn",
                        "title": "Parametre fcn"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Expression",
                            "id": "fcn-expression",
                            "default_value": "sin(u(1)*exp(2.3*(-u(2))))",
                            "number": 0
                        }
                    }
                ], "Gain":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1'],
                        "hasAttr": true,
                        "attributes": ['Gain'],
                        "BlockType": "Gain",
                        "title": "Parametre gain"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Gain",
                            "id": "gain-value",
                            "default_value": "1",
                            "number": 0
                        }
                    }
                ], "Integrator":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['0', 'false', 'inf', '-inf'],
                        "hasAttr": true,
                        "attributes": ['InitialCondition', 'LimitOutput', 'UpperSaturationLimit', 'LowerSaturationLimit'],
                        "BlockType": "Integrator",
                        "title": "Parametre integrator"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial condition",
                            "id": "integrator-initial",
                            "default_value": "0",
                            "number": 0
                        }
                    },
                    {
                        "type": "checkbox",
                        "data":
                        {
                            "title": " Limit output",
                            "id": "integ-limit",
                            "value": "false",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Upper saturation limit",
                            "id": "integrator-upper",
                            "default_value": "inf",
                            "number": 2
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Lower saturation limit",
                            "id": "integrator-lower",
                            "default_value": "-inf",
                            "number": 3
                        }
                    }
                ], "Product":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 2,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 4,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": false,
                        "defaultExtra": null,
                        "BlockType": "Product",
                        "title": "Parametre product"
                    }
                ], "Scope":
                [
                    {
                        "io": "in",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 0,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": false,
                        "defaultExtra": null,
                        "BlockType": "Product",
                        "title": "Parametre product"
                    }
                ], "StateSpace":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1', '1', '1', '1', '0'],
                        "hasAttr": true,
                        "attributes": ['A', 'B', 'C', 'D', 'X0'],
                        "BlockType": "StateSpace",
                        "title": "Parametre state-space"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "A",
                            "id": "state-a",
                            "default_value": "1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "B",
                            "id": "state-b",
                            "default_value": "1",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "C",
                            "id": "state-c",
                            "default_value": "1",
                            "number": 2
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "D",
                            "id": "state-d",
                            "default_value": "1",
                            "number": 3
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial conditions",
                            "id": "state-initial",
                            "default_value": "0",
                            "number": 4
                        }
                    }
                ], "Sum":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 2,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['|++'],
                        "hasAttr": true,
                        "attributes": ['Signs'],
                        "BlockType": "StateSpace",
                        "title": "Parametre state-space"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "List of signs",
                            "id": "sum-signs",
                            "default_value": "|++",
                            "number": 0
                        }
                    }
                ], "SimOut":
                [
                    {
                        "io": "in",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 0,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['simout', 'inf', '1', 'strucwtime'],
                        "hasAttr": true,
                        "attributes": ['VariableName', 'MaxDataPoints', 'Decimation', 'SaveFormat'],
                        "BlockType": "SimOut",
                        "title": "Parametre simout"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Variable name",
                            "id": "works-name",
                            "default_value": "simout",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Limit data points to last",
                            "id": "works-limit",
                            "default_value": "inf",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Decimation",
                            "id": "works-decim",
                            "default_value": "1",
                            "number": 2
                        }
                    },
                    {
                        "type": "selectbox",
                        "data":
                        {
                            "title": "Output range",
                            "id": "analogout-range",
                            "number": 3,
                            "opt":
                                [
                                    {
                                        "value": "strucwtime",
                                        "name": "Structure with time"
                                    },
                                    {
                                        "value": "struc",
                                        "name": "Structure"
                                    },
                                    {
                                        "value": "arr",
                                        "name": "Array"
                                    },
                                    {
                                        "value": "timeseries",
                                        "name": "Timeseries"
                                    }
                                ]
                        }
                    }
                ], "TransferFcn":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['[1]', '[1 1]'],
                        "hasAttr": true,
                        "attributes": ['Numerator', 'Denominator'],
                        "BlockType": "TransferFcn",
                        "title": "Parametre transfer function"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Numerator",
                            "id": "transfer-numer",
                            "default_value": "[1]",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Denominator",
                            "id": "transfer-denom",
                            "default_value": "[1 1]",
                            "number": 1
                        }
                    }
                ], "TransportDelay":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1', '0'],
                        "hasAttr": true,
                        "attributes": ['TimeDelay', 'InitialOutput'],
                        "BlockType": "TransportDelay",
                        "title": "Parametre transport delay"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Time delay",
                            "id": "transdelay-time",
                            "default_value": "1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial output",
                            "id": "transdelay-output",
                            "default_value": "0",
                            "number": 1
                        }
                    }
                ], "UnitDelay":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1', '0'],
                        "hasAttr": true,
                        "attributes": ['DelayLength', 'InitialCondition'],
                        "BlockType": "UnitDelay",
                        "title": "Parametre unit delay"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Delay length",
                            "id": "delay-length",
                            "default_value": "1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial condition",
                            "id": "delay-initial",
                            "default_value": "0",
                            "number": 1
                        }
                    }
                ], "Step":
                [
                    {
                        "io": "out",
                        "NumberOfInputs": 0,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1', '0', '1'],
                        "hasAttr": true,
                        "attributes": ['StepTime', 'InitialValue', 'FinalValue'],
                        "BlockType": "Step",
                        "title": "Parametre step"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Step time",
                            "id": "step-time",
                            "default_value": "1",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial value",
                            "id": "step-initial",
                            "default_value": "0",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Final value",
                            "id": "step-final",
                            "default_value": "1",
                            "number": 2
                        }
                    }
                ], "Saturation":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['0.5', '-0.5'],
                        "hasAttr": true,
                        "attributes": ['UpperLimit', 'LowerLimit'],
                        "BlockType": "Saturation",
                        "title": "Parametre saturation"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Upper limit",
                            "id": "saturation-upper",
                            "default_value": "0.5",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Lower limit",
                            "id": "saturation-lower",
                            "default_value": "-0.5",
                            "number": 1
                        }
                    }
                ], "DiscreteTime":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['1.0', '0', '1', 'false', 'inf', '-inf'],
                        "hasAttr": true,
                        "attributes": ['Gain', 'InitialCondition', 'SampleTime', 'MaxDataPoints', 'UpperSaturationLimit', 'LowerSaturationLimit'],
                        "BlockType": "DiscreteTime",
                        "title": "Parametre discrete time integrator"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Gain",
                            "id": "discretetime-gain",
                            "default_value": "1.0",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial condition",
                            "id": "discretetime-initial",
                            "default_value": "0",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Sample Time",
                            "id": "discretetime-sample",
                            "default_value": "1",
                            "number": 2
                        }
                    },
                    {
                        "type": "checkbox",
                        "data":
                        {
                            "title": " Limit output",
                            "id": "integ-limit",
                            "value": "false",
                            "number": 3
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Upper saturation limit",
                            "id": "discretetime-upper",
                            "default_value": "inf",
                            "number": 4
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Lower saturation limit",
                            "id": "discretetime-lolwer",
                            "default_value": "-inf",
                            "number": 5
                        }
                    }
                ], "DiscreteTransfer":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['[1]', '[1 0.5]', '0'],
                        "hasAttr": true,
                        "attributes": ['Numetator', 'Denominator', 'InitialStates'],
                        "BlockType": "DiscreteTransfer",
                        "title": "Parametre discrete transfer fcn"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Numerator",
                            "id": "distrans-num",
                            "default_value": "[1]",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Denominator",
                            "id": "distrans-denom",
                            "default_value": "[1 0.5]",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Initial states",
                            "id": "distrans-initial",
                            "default_value": "0",
                            "number": 2
                        }
                    }
                ], "Relay":
                [
                    {
                        "io": "both",
                        "NumberOfInputs": 1,
                        "NumberOfOutputs": 1,
                        "MaxInputs": 1,
                        "ports": null,
                        "NumOfTop": 0,
                        "NumOfBot": 0,
                        "hasExtra": true,
                        "defaultExtra": ['eps', 'eps', '1', '0'],
                        "hasAttr": true,
                        "attributes": ['OnSwitchValue', 'OffSwitchValue', 'OnOutputValue', 'OffOutputValue'],
                        "BlockType": "Relay",
                        "title": "Parametre relay"
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Switch on point",
                            "id": "relay-switchon",
                            "default_value": "eps",
                            "number": 0
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Switch off point",
                            "id": "relay-switchoff",
                            "default_value": "eps",
                            "number": 1
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Output when on",
                            "id": "relay-on",
                            "default_value": "1",
                            "number": 2
                        }
                    },
                    {
                        "type": "input",
                        "data":
                        {
                            "title": "Output when off",
                            "id": "relay-off",
                            "default_value": "0",
                            "number": 3
                        }
                    }
                ]
        };

        window.prepBlocks = function (typeBlock) {
            var cx;
            var blockData = blockDrawData[typeBlock];
            cx = new fabric.Canvas(typeBlock, { width: blockData[0].data.width + 40, height: blockData[0].data.height + 12 });
            cx.selection = false;
            var blockGroup = [];

            $.each(blockData, function (i, part) {
                if (part.type === 'rect')
                    blockGroup[i] = new fabric.Rect(part.data);
                else if (part.type === 'path')
                    blockGroup[i] = new fabric.Path(part.path, part.data);
                else if (part.type === 'circle')
                    blockGroup[i] = new fabric.Circle(part.data);
                else if (part.type === 'text' || part.type === 'name')
                    blockGroup[i] = new fabric.IText(part.Text, part.data);
                else if (part.type === 'triangle')
                    blockGroup[i] = new fabric.Triangle(part.data);
            });

            var block = new fabric.Group(blockGroup);
            cx.add(block); cx.bringForward(block);
            block.evented = block.selectable = false;
        };
    </script>
</head>

<body>
    <!-- output modal-->
    <div class="modal fade" id="outputModal" tabindex="-1" role="dialog" aria-labelledby="outputModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="outputModalLabel">Solution</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- //output modal-->

    <!-- modal block settings-->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Block settings</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--<form>-->
                    <!--<div class="form-group">-->
                    <!--<label for="block-name" class="col-form-label">Nzov bloku:</label>-->
                    <!--<input type="text" class="form-control" id="block-name">-->
                    <!--</div>-->
                    <!--&lt;!&ndash;<div class="form-group">&ndash;&gt;-->
                    <!--&lt;!&ndash;<label for="input-number" class="col-form-label">Poet vstupov:</label>&ndash;&gt;-->
                    <!--&lt;!&ndash;<select class="form-control form-control-sm" id="input-number">&ndash;&gt;-->
                    <!--&lt;!&ndash;</select>&ndash;&gt;-->
                    <!--&lt;!&ndash;</div>&ndash;&gt;-->
                    <!--</form>-->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="changeBlock()">OK</button>
                </div>
            </div>
        </div>
    </div>
    <!-- //modal block settings-->

    <!-- file picker modal-->
    <div class="modal fade bd-example-modal-sm" id="fileLoadModal" tabindex="-1" role="dialog" aria-labelledby="fileLoadModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="fileLoadModalLabel">Load model</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="modelFile" class="col-form-label">File:</label>
                        <input type="file" id="fileToLoad" class="form-control" id="modelFile">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" onclick="loadModel()" class="btn btn-primary">Load model</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- //file picker modal-->

    <!-- help modal-->
    <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalLabel">Help</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5>Application controls</h5>
                    <span><b>Del</b> - deletes active block</span><br />
                    <span><b>r</b> - rotates active block</span><br />
                    <span><b>Ctrl+j</b> - copies the type of an active block and creates a new instance</span><br />
                    <span><b>Ctrl+s</b> - allows user to save the current scheme</span><br />
                    <span><b>Directional arrows</b> - moves current block to equivalent direction</span><br />
                    <br />
                    <h5>How to use application</h5>
                    <p>Once the empty scheme of user's choice is loaded, it is possible to <b>add blocks</b> by
                        clicking
                        on them once in the bottom left side of main menu. Once added, it is possible to connect these
                        blocks
                        by dragging user's mouse from one object's output to the input of another object.</p>
                    <p>While creating the scheme, it is possible to alter each object's parameters by <b>double
                            clicking on
                            the object</b>. Once the whole scheme is created, connected and altered to the user's
                        liking, it is possible to
                        request the output of the scheme by clicking the <b>Solve/Export</b> button in the top left
                        section of main menu.</p>
                    <p>At any given time, it is possible to <b>save/load</b> a scheme in the scheme settings.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- //help modal-->

    <!--content-->
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">DP</a>
                </li>
                <li>
                    <a class="btn drop" data-toggle="collapse" href="#types" role="button" aria-expanded="false"
                        aria-controls="types">
                        <span><i class="fa fa-file" aria-hidden="true"></i> Scheme types</span>
                    </a>
                    <div class="collapse" id="types">
                        <div class="card card-body">
                            <a class="dropdown-item" href="index.html" data-toggle="tooltip" title="Resistor - Inductance - Capacitor structures"
                                data-placement="top">RLC</a>
                            <a class="dropdown-item" href="algebra.html" data-toggle="tooltip" title="Simplification of block diagrams"
                                data-placement="top">Block algebra</a>
                            <a class="dropdown-item" href="simulation.html" data-toggle="tooltip" title="Building of block schemes for simulation"
                                data-placement="top">BlockSim</a>
                        </div>
                    </div>
                </li>
                <li>
                    <a class="btn drop" data-toggle="collapse" href="#setting" role="button" aria-expanded="false"
                        aria-controls="types">
                        <span><i class="fa fa-cog" aria-hidden="true"></i> Scheme setting</span>
                    </a>
                    <div class="collapse" id="setting">
                        <div class="card card-body">
                            <a class="dropdown-item setting-item" href="#" onclick="newScheme()"><i class="fa fa-refresh drop"
                                    aria-hidden="true"></i>
                                New scheme</a>
                            <a class="dropdown-item setting-item" href="#" onclick="saveScheme()"><i class="fa fa-download drop"
                                    aria-hidden="true"></i>
                                Save scheme</a>
                            <a class="dropdown-item setting-item" href="#" onclick="loadModal()"><i class="fa fa-upload drop"
                                    aria-hidden="true"></i>
                                Load scheme</a>
                        </div>
                    </div>
                </li>
                <li>
                    <a href="#" onclick="loadHelp()"><i class="fa fa-question-circle" aria-hidden="true"></i> Help</a>
                </li>
                <li>
                    <a href="#" onclick="getOutput()"><i class="fa fa-check" aria-hidden="true"></i> Export to .mdl</a>
                </li>
                <hr>
                <li>
                    <span>Blocks</span>
                </li>
                <div id="block-container">
                </div>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper" oncontextmenu="return false;">
            <div id="menu-toggle">
                <a class="fa fa-bars fa-2x" href="#menu-toggle"></a>
            </div>
            <canvas id="main-canvas"></canvas>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /content -->
    <!--custom-->
    <script>
        $("#menu-toggle").click(function (e) {
            e.preventDefault();
            $("#wrapper").toggleClass("toggled");
        });

        function loadModal() {
            $('#fileLoadModal').modal();
        }

        //draggable modal
        $(".modal > div").draggable({
            stop: function() {
                console.log($(this).css("top"));
            }
        });

        //set original position on modal close
        $('.modal').on('hidden.bs.modal', function (e) {
            $($(this).children()[0]).css("top","0px")
            $($(this).children()[0]).css("left","0px")
        });


        function loadHelp() {
            $('#helpModal').modal();
        }

        //canvas reference
        var canvas = new fabric.Canvas('main-canvas');

        //canvas resizing
        window.onload = function (e) {
            canvasResize();
            setSchemeType("schema2");
            loadBlocks();
            $("#wrapper").toggleClass("toggled");
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            })
        };

        window.onresize = function (e) {
            canvasResize();
        };

        function canvasResize() {
            canvas.setWidth(window.innerWidth);
            canvas.setHeight(window.innerHeight);
        }
    //      /canvas resizing
    </script>
    <script src="js/controller.js"></script>
    <script src="js/blocks.js"></script>
    <script src="js/scheme.js"></script>
    <script src="js/output.js"></script>
</body>

</html>